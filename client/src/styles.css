:root {
  /* Font stack approximating Twitter's Chirp (not redistributable) */
  --font-ui: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica, Arial, sans-serif;
  --bg: #F2F7F3; /* requested body background */
  --panel: #ffffff; /* component background in light mode */
  --fg: #1a1a1a;
  --panel-fg: #1a1a1a; /* text color on panel backgrounds */
  --primary: #d7c0a5; /* light brown from logo */
  --secondary: #8c6f5a;
  --ring: #5e4637;
  --bubble: #f3f3f3;
  --bubble-border: #e0e0e0;
  --bubble-strong: #e3e3e3; /* slightly darker */
  --bubble-strong-border: #cfcfcf;
}

[data-theme="dark"] {
  --bg: #000000; /* black main background */
  --panel: #F2F7F3; /* reuse light mode body tint for components */
  --fg: #e6e6e6; /* base text on black */
  --panel-fg: #111111; /* dark text on light panels */
  --primary: #8c6f5a;
  --secondary: #d7c0a5;
  --ring: #a5886f;
  --bubble: #eaeff0; /* a bit darker than panel */
  --bubble-border: #d6dbdc;
  --bubble-strong: #d8dee0;
  --bubble-strong-border: #c4cacc;
}

* { box-sizing: border-box; }
body { margin: 0; background: var(--bg); color: var(--fg); font-family: var(--font-ui); font-size: 14px; line-height: 1.45; }
a { color: inherit; text-decoration: none; }
a:hover { text-decoration: underline; }

header {
  display: flex; align-items: center; gap: 12px; padding: 10px 14px; border-bottom: 1px solid #ddd; background: var(--panel);
  position: sticky; top: 0; z-index: 10;
  color: var(--panel-fg);
}
header img { height: 32px; width: 32px; border-radius: 6px; }
header .brand { font-weight: 700; letter-spacing: -0.2px; }
header .spacer { flex: 1; }
header button { background: var(--primary); color: #222; border: 1px solid var(--ring); border-radius: 6px; padding: 6px 10px; cursor: pointer; }
header nav a { margin-right: 10px; padding: 6px 10px; border-radius: 6px; }
header nav a.active { background: var(--primary); color: #222; }

.container { max-width: 1180px; margin: 0 auto; padding: 16px; }
.card { border: 1px solid #e7e7e7; border-radius: 12px; padding: 12px; background: var(--panel); color: var(--panel-fg); box-shadow: 0 1px 2px rgba(0,0,0,0.04); }
.row { display: flex; gap: 16px; }
.col { flex: 1; }
input, textarea, select { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 6px; background: var(--panel); color: var(--panel-fg); }
/* Primary action buttons -> near-black slate for elegance */
button.primary { background: #1f2937; border: 1px solid #162036; color: #fff; padding: 8px 12px; border-radius: 6px; }
button.primary:hover { filter: brightness(1.03); }
button.primary:active { transform: translateY(0.5px); }
[data-theme="dark"] button.primary { background: #1f2937; border-color: #162036; color: #fff; }

/* Compact, pill-like selects for a Twitter vibe */
.select-pill { width: auto; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--ring); background: var(--primary); color: #222; font-size: 13.5px; appearance: none; -webkit-appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'%3E%3Cpath fill='%23222' d='M5 6L0 0h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; padding-right: 26px; transition: filter .15s ease, transform .08s ease; }
.select-pill:hover { filter: brightness(1.06); }
.select-pill:active { transform: scale(0.985); }
.select-pill:focus { outline: none; box-shadow: 0 0 0 2px rgba(0,0,0,0.06); }
.select-compact { max-width: 200px; }
.select-sm { padding: 5px 10px; }

/* Dark select to match primary Post button */
.select-dark { width: auto; padding: 7px 10px; border-radius: 6px; border: 1px solid #162036; background: #1f2937; color: #fff; appearance: none; -webkit-appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'%3E%3Cpath fill='%23ffffff' d='M5 6L0 0h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; padding-right: 26px; }
.select-dark:hover { filter: brightness(1.05); }
.select-dark:focus { outline: none; box-shadow: 0 0 0 2px rgba(31,41,55,0.35); }

.feed-item { border-bottom: 1px solid #eee; padding: 12px 0; }
.feed-item:last-child { border-bottom: 0; }

/* Media grid for post attachments */
.media-grid { margin-top: 8px; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px; }
.media-grid img { width: 100%; height: auto; border-radius: 12px; border: 1px solid #ddd; }
.media-single { margin-top: 8px; }
.media-single img { width: 100%; height: auto; max-height: 520px; object-fit: cover; border-radius: 14px; border: 1px solid #ddd; }

/* Search results list */
.search-results { margin-top: 8px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; }
.search-item { display: flex; align-items: center; gap: 8px; padding: 8px 10px; border-bottom: 1px solid #eee; }
.search-item:last-child { border-bottom: 0; }
.search-item .name { font-weight: 600; }
.search-item .handle { font-size: 12px; opacity: 0.7; margin-top: 2px; }
.search-item .spacer { flex: 1; }

/* Comment bubbles */
.comment-row { display: flex; margin: 6px 0; }
.comment-row.me { justify-content: flex-end; }
.comment-bubble { max-width: 75%; background: var(--bubble); color: var(--panel-fg); border: 1px solid var(--bubble-border); border-radius: 12px; padding: 8px 10px; }
.comment-bubble .meta { font-size: 11px; opacity: 0.6; margin-bottom: 2px; }
.comment-bubble.me { background: var(--bubble-strong); color: var(--panel-fg); border-color: var(--bubble-strong-border); }

@media (max-width: 640px) {
  header nav { display: none; }
}
/* Reactions */
button.reaction { border: 1px solid #ccc; background: var(--panel); color: var(--panel-fg); border-radius: 6px; padding: 4px 8px; }
button.reaction.selected { border-color: var(--ring); background: var(--primary); color: #222; }
.rxn-count { margin-left: 4px; font-size: 10px; opacity: 0.8; line-height: 1; }

/* Three-column feed layout */
.layout-3col { display: grid; grid-template-columns: 280px 1fr 320px; gap: 16px; align-items: start; }
@media (max-width: 1000px) { .layout-3col { grid-template-columns: 1fr; } }

.sidebar-sticky { position: sticky; top: 70px; }

/* Column font sizing (Twitter-like emphasis) */
.col-left { font-size: 14px; }
/* Main column slightly larger like Twitter */
.col-main { font-size: 15px; }
.col-right { font-size: 14px; }

/* Composer actions row */
.composer-actions { display: flex; align-items: center; gap: 8px; margin-top: 8px; }

/* Meta text (timestamps, handles, counts) */
.meta { font-size: 12.5px; opacity: 0.72; }

/* Subtle divider look similar to Twitter */
.feed-item { border-bottom: 1px solid rgba(0,0,0,0.06); padding: 12px 0; }
.feed-item:last-child { border-bottom: 0; }

/* Upload toolbar */
.upload-toolbar { display: inline-flex; gap: 8px; }
.upload-toolbar button { border: 1px solid #ccc; background: var(--panel); color: var(--panel-fg); border-radius: 6px; padding: 6px 8px; cursor: pointer; }
.upload-toolbar button:hover { background: #f0f0f0; }

/* Inline spinner */
.spinner { width: 14px; height: 14px; border: 2px solid rgba(0,0,0,0.15); border-top-color: rgba(0,0,0,0.55); border-radius: 50%; display: inline-block; animation: spin 0.9s linear infinite; margin-left: 6px; }
[data-theme="dark"] .spinner { border-color: rgba(0,0,0,0.25); border-top-color: rgba(0,0,0,0.75); }
@keyframes spin { to { transform: rotate(360deg); } }

/* Media previews */
.previews { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
.preview-thumb { position: relative; width: 96px; height: 96px; border: 1px solid #ddd; border-radius: 8px; overflow: hidden; background: #fafafa; }
.preview-thumb img { width: 100%; height: 100%; object-fit: cover; }
.preview-remove { position: absolute; top: 4px; right: 4px; border: 1px solid #ccc; background: var(--panel); color: var(--panel-fg); border-radius: 6px; padding: 2px 6px; cursor: pointer; }
.preview-chip { display: inline-flex; align-items: center; gap: 6px; padding: 6px 8px; border: 1px solid #ddd; border-radius: 999px; background: var(--panel); color: var(--panel-fg); }
.preview-chip .kind { opacity: 0.8 }
.preview-chip .name { max-width: 180px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }

.avatar { width: 72px; height: 72px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: 700; background: #f2f2f2; border: 1px solid #e5e5e5; }

.stat { display: flex; justify-content: space-between; padding: 6px 0; border-bottom: 1px solid #f0f0f0; font-size: 13px; }
.stat:last-child { border-bottom: 0; }

.list-item { display: flex; align-items: center; gap: 10px; padding: 8px; border-radius: 8px; cursor: pointer; }
.list-item:hover { background: #fafafa; }

.tag { font-size: 12px; padding: 2px 6px; border: 1px solid #e1e1e1; border-radius: 999px; }

/* Lightbox */
.lightbox-backdrop{ position: fixed; inset: 0; background: rgba(0,0,0,0.7); display:flex; align-items:center; justify-content:center; z-index: 50; }
.lightbox-content{ max-width: 90vw; max-height: 90vh; }
.lightbox-content img{ max-width: 100%; max-height: 90vh; border-radius: 10px; box-shadow: 0 10px 30px rgba(0,0,0,0.4); }
.lightbox-close{ position:absolute; top:16px; right:16px; background:#fff; border:1px solid #ddd; border-radius:8px; padding:6px 10px; cursor:pointer; }
/* Zoom overlay on avatars */
.zoom-wrap{ position: relative; display: inline-block; }
.zoom-wrap .zoom-icon{ position:absolute; bottom:2px; right:2px; opacity:0; font-size:14px; background: rgba(255,255,255,0.8); border-radius: 6px; padding: 2px 4px; }
.zoom-wrap:hover .zoom-icon{ opacity:1; }
.skeleton { position: relative; overflow: hidden; background: #e9ecef; border-radius: 8px; }
[data-theme="dark"] .skeleton { background: #d5dade; }
.skeleton::after { content: ""; position: absolute; inset: 0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,0.45), transparent); animation: shimmer 1.2s infinite; }
@keyframes shimmer { 100% { transform: translateX(100%); } }
.skeleton-line { height: 12px; margin: 6px 0; border-radius: 6px; }
.skeleton-avatar { width: 24px; height: 24px; border-radius: 50%; }

/* Secondary tint button for non-primary actions like Edit Profile */
.btn-tint { background: var(--primary); color: #222; border: 1px solid var(--ring); padding: 8px 12px; border-radius: 6px; }
.skeleton { position: relative; overflow: hidden; background: #e9ecef; border-radius: 8px; }
[data-theme="dark"] .skeleton { background: #d5dade; }
.skeleton::after { content: ""; position: absolute; inset: 0; transform: translateX(-100%); background: linear-gradient(90deg, transparent, rgba(255,255,255,0.45), transparent); animation: shimmer 1.2s infinite; }
@keyframes shimmer { 100% { transform: translateX(100%); } }
.skeleton-line { height: 12px; margin: 6px 0; border-radius: 6px; }
.skeleton-avatar { width: 24px; height: 24px; border-radius: 50%; }
.select-pill { width: auto; padding: 6px 10px; border-radius: 999px; border: 1px solid var(--ring); background: var(--primary); color: #222; font-size: 13.5px; appearance: none; -webkit-appearance: none; background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='10' height='6' viewBox='0 0 10 6'%3E%3Cpath fill='%23222' d='M5 6L0 0h10z'/%3E%3C/svg%3E"); background-repeat: no-repeat; background-position: right 10px center; padding-right: 26px; }
.select-pill:focus { outline: none; box-shadow: 0 0 0 2px rgba(0,0,0,0.06); }
[data-theme="dark"] .select-pill { background: var(--primary); color: #222; border-color: var(--ring); }
